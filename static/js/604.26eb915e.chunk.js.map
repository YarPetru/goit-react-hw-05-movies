{"version":3,"file":"static/js/604.26eb915e.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","components/Movies/Movies.jsx","pages/MoviesPage.jsx","services/api.js"],"sourcesContent":["import { SpinnerDotted } from 'spinners-react';\n\nconst Loader = () => {\n  return <SpinnerDotted color=\"#5e3e53\" />;\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"movieItem\":\"MoviesList_movieItem__p4FQU\",\"link\":\"MoviesList_link__8rTGX\"};","import { Link } from 'react-router-dom';\nimport s from './MoviesList.module.css';\n\nconst MoviesList = ({ moviesArray }) => {\n  return (\n    <div>\n      <ul className={s.moviesList}>\n        {moviesArray.map(item => (\n          <li key={item.id} className={s.movieItem}>\n            <Link className={s.link} to={`/movies/${item.id}`}>\n              {item.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\",\"button\":\"SearchForm_button__UXY06\",\"buttonLabel\":\"SearchForm_buttonLabel__Pnm-I\",\"input\":\"SearchForm_input__HOxJo\"};","import { FcSearch } from 'react-icons/fc';\nimport PropTypes from 'prop-types';\nimport s from './SearchForm.module.css';\n\nconst SearchForm = ({ handleSubmit, handleInputChange, query }) => {\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={s.button}>\n        <span className={s.buttonLabel}>Search</span>\n        <FcSearch />\n      </button>\n\n      <input\n        className={s.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        value={query}\n        autoFocus\n        placeholder=\"Search images and photos\"\n        onChange={handleInputChange}\n      />\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  handleInputChange: PropTypes.func.isRequired,\n  query: PropTypes.string,\n};\n\nexport default SearchForm;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport toast from 'react-hot-toast';\nimport PropTypes from 'prop-types';\n\nimport { getMovieByQuery } from 'services/api';\n\nimport Loader from '../Loader';\nimport SearchForm from 'components/SearchForm';\nimport MoviesList from '../MoviesList';\n\n// Query Function\nconst GetSearchedMovie = q => {\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchMovieByQuery = async () => {\n      try {\n        setStatus('pending');\n        const movies = await getMovieByQuery(q);\n        setMovies(movies);\n        setStatus('resolved');\n        movies.length === 0 &&\n          toast('There are no movies for this query. Please try another word', {\n            icon: 'ðŸ˜“',\n            style: {\n              borderRadius: '10px',\n              background: '#333',\n              color: '#fff',\n            },\n          });\n      } catch (error) {\n        setStatus('rejected');\n        setError(error);\n      }\n    };\n\n    if (!!q) {\n      fetchMovieByQuery();\n    }\n  }, [q]);\n  return { movies, status, error };\n};\n\nconst Movies = () => {\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const queryWord = searchParams.get('q');\n  const { movies, status, error } = GetSearchedMovie(queryWord);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      toast('Enter your query please', {\n        icon: 'ðŸ˜“',\n        style: {\n          borderRadius: '10px',\n          background: '#333',\n          color: '#fff',\n        },\n      });\n    }\n    setSearchParams({ q: query });\n    setQuery('');\n  };\n\n  const handleInputChange = e => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <>\n      <SearchForm\n        handleSubmit={handleSubmit}\n        handleInputChange={handleInputChange}\n        query={query}\n      />\n\n      {status === 'pending' && <Loader />}\n\n      {status === 'rejected' &&\n        toast(\n          `Oops. Something went wrong. Please try again. ${error.message}`,\n          {\n            icon: 'ðŸ˜“',\n            style: {\n              borderRadius: '10px',\n              background: '#333',\n              color: '#fff',\n            },\n          }\n        )}\n      {status === 'resolved' && <MoviesList moviesArray={movies} />}\n    </>\n  );\n};\n\nGetSearchedMovie.propTypes = {\n  q: PropTypes.string.isRequired,\n};\n\nexport default Movies;\n","import Movies from '../components/Movies';\n\nexport function MoviesPage() {\n  return <Movies />;\n}\n","import axios from 'axios';\n\nconst APIKey = '9cba2b56fa6de0f8781209edaebd8957';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\n//https://api.themoviedb.org/3/trending/movie/day?api_key=9cba2b56fa6de0f8781209edaebd8957\nexport const getTrendMovies = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${APIKey}`);\n  return response.data.results;\n};\n\n//https://api.themoviedb.org/3/search/movie?api_key=9cba2b56fa6de0f8781209edaebd8957&query=batman\nexport const getMovieByQuery = async query => {\n  const response = await axios.get(\n    `/search/movie?api_key=${APIKey}&query=${query}`\n  );\n  return response.data.results;\n};\n\n// https://api.themoviedb.org/3/movie/54657?api_key=9cba2b56fa6de0f8781209edaebd8957\nexport const getMovieDetails = async movieid => {\n  const response = await axios.get(`/movie/${movieid}?api_key=${APIKey}`);\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/movie/453395/credits?api_key=9cba2b56fa6de0f8781209edaebd8957\nexport const getMovieCredits = async movieid => {\n  const response = await axios.get(\n    `/movie/${movieid}/credits?api_key=${APIKey}`\n  );\n  return response.data.cast;\n};\n\n// https://api.themoviedb.org/3/movie/453395/reviews?api_key=9cba2b56fa6de0f8781209edaebd8957\nexport const getMovieReviews = async movieid => {\n  const response = await axios.get(\n    `/movie/${movieid}/reviews?api_key=${APIKey}`\n  );\n  return response.data.results;\n};\n"],"names":["SpinnerDotted","color","moviesArray","className","s","map","item","to","id","title","handleSubmit","handleInputChange","query","onSubmit","type","autoComplete","value","autoFocus","placeholder","onChange","GetSearchedMovie","q","useState","movies","setMovies","status","setStatus","error","setError","useEffect","fetchMovieByQuery","getMovieByQuery","length","toast","icon","style","borderRadius","background","propTypes","PropTypes","setQuery","useSearchParams","searchParams","setSearchParams","queryWord","get","e","preventDefault","trim","currentTarget","toLowerCase","Loader","message","MoviesList","MoviesPage","APIKey","axios","getTrendMovies","response","data","results","getMovieDetails","movieid","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}